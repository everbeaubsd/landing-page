<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hubungi WhatsApp</title>
  <style>
    :root { color-scheme: light; }
    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; }
    body {
      display: grid;
      place-items: center;
      font-family: Arial, sans-serif;
      background: #f6c3c3; /* pink like the screenshot */
    }
    .wa-button {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      padding: 20px 40px;
      font-size: 22px;
      font-weight: 700;
      color: #fff;
      background-color: #25D366;
      border-radius: 12px;
      text-decoration: none;
      box-shadow: 0 8px 20px rgba(0,0,0,.12);
      transition: transform .06s ease, background-color .2s ease, box-shadow .2s ease;
    }
    .wa-button:hover { background-color: #1DA851; }
    .wa-button:active { transform: translateY(1px); box-shadow: 0 6px 16px rgba(0,0,0,.12); }
    .wa-icon { width: 32px; height: 32px; flex: 0 0 32px; }
  </style>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-16710351180"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'AW-16710351180');
  </script>

  <!-- Google Tag Manager -->
  <script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-PT3FLLXF');
  </script>
  <!-- End Google Tag Manager -->
</head>
<body>

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PT3FLLXF"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

  <a
    href="https://wa.me/6281322220690"
    class="wa-button"
    id="whatsapp-button"
    aria-label="Pesan lewat WhatsApp"
    onclick="return trackAndConvert(this.href);">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg"
         alt="" class="wa-icon" aria-hidden="true">
    Book Now
  </a>

  <!-- Event snippet for Contact Click Book Now conversion -->
  <script>
    // Official Google Ads conversion function (slightly hardened)
    function gtag_report_conversion(url) {
      var navigated = false;
      var callback = function () {
        if (navigated) return;
        navigated = true;
        if (typeof url !== 'undefined' && url) {
          window.location = url; // same-tab redirect per Google snippet
        }
      };
      if (typeof gtag === 'function') {
        gtag('event', 'conversion', {
          'send_to': 'AW-16710351180/rJpZCMDRjZ0bEMzyjqA-',
          'value': 1.0,
          'currency': 'IDR',
          'event_callback': callback
        });
        // Safety timeout in case callback doesn't fire
        setTimeout(callback, 1200);
        return false; // prevent default navigation until callback
      } else {
        // Fallback if gtag is unavailable
        if (url) window.location = url;
        return false;
      }
    }

    // Wrapper to also log your existing GA event, then trigger conversion
    function trackAndConvert(url) {
      if (typeof gtag === 'function') {
        gtag('event', 'click_booking', {
          event_category: 'engagement',
          event_label: 'WhatsApp Button'
        });
      }
      return gtag_report_conversion(url);
    }
  </script>

</body>
</html>
